{% extends "base.html" %}
{% load static %}
{% block footer %}
{% endblock footer%}
{% block content %} {% load crispy_forms_tags %}

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package Booking</title>

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <script src="https://kit.fontawesome.com/6dc45ef80b.js" crossorigin="anonymous"></script>

    <!-- custom css file link  -->
    <link rel="stylesheet" href="{%static '/css/packagebooking.css'%}">

</head>

<body>
    <!-- header section starts  -->
    <header class="header">

        <a href="#" class="logo"> <img src="{%static '/images/Ra.TTsLogo.png' %}" alt=""> </a>

        <div class="icons">
            <div class="fas fa-bell" id="User-Profile"></div>
            <div class="fas fa-bars" id="menu_btn"></div>
        </div>

        <nav class="navbar">
            <a href="statement.html">Statement</a>
            <a href="bookinglist.html">Booking Lists</a>
            <a href="changepassword.html">Change Password</a>
            <a href="reportproblem.html">Report a Problem</a>
            <a href="customersupport.html">Customer Support</a>
            <a href="loginpage/Login.html">Log Out</a>
        </nav>

        <div action="" class="User-Profile">
            <img src="images/pic-4" alt="">
            <h2>User Name</h2>
            <h2>9800000000</h2>
            <h2>email11@gmail.com</h2>
        </div>

    </header>
    <!-- header section ends -->

    <!-- booking form starts -->
    <section>
        <form action="" method="POST" autocomplete="off">
            {% csrf_token %}
            <!--  General -->
            <div class="form-group">
                <h3>Package Booking</h3>
                <h2 class="heading">Booking & contact</h2>
                <div class="controls">
                    <input type="text" id="name" class="floatLabel" name="Name">
                    <label>Name</label>
                </div>
                <div class="controls">
                    <input type="text" id="email" class="floatLabel" name="Email">
                    <label>Email</label>
                </div>
                <div class="controls">
                    <input type="tel" id="phone" class="floatLabel" name="Phone">
                    <label>Phone</label>
                </div>
                <div class="grid">
                    <div class="col-2-3">
                        <div class="controls">
                            <input type="text" id="street" class="floatLabel" name="District">
                            <label>District</label>
                        </div>
                    </div>
                    <div class="col-1-3">
                        <div class="controls">
                            <input type="text" id="street-number" class="floatLabel" name="city">
                            <label>City</label>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col-2-3">
                        <div class="controls">
                            <input type="text" id="city" class="floatLabel" name="Street">
                            <label>Street/Tole</label>
                        </div>
                    </div>
                    <div class="col-1-3">
                        <div class="controls">
                            <input type="text" id="post-code" class="floatLabel" name="Emergency_Phone">
                            <label>Emergency Phone</label>
                        </div>
                    </div>
                </div>
                <div class="controls">
                    <input type="text" id="country" class="floatLabel" name="Country">
                    <label>Country</label>
                </div>
            </div>
            <!--  Details -->
            <div class="form-group">
            {% csrf_token %}
                <h2 class="heading">Details</h2>
                <div class="grid">
                    <div class="col-1-4 col-1-4-sm">
                        <div class="controls">
                            <input type="date" id="arrive" class="floatLabel" name="Trip_Date" value="date('YYYY-MM-DD')">
                            <label class="label-date"><i class="fa fa-calendar"></i>Trip Departure</label>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col-1-3 col-1-3-sm">
                         <div class="controls">
                            <i class="fa fa-sort"></i>
                            <select class="floatLabel" name="Trip_Type" id="dropdown" onclick="newFunction(value)">
                                {% for Trip_Type in Trip_Type %}
                                    <option value="{{ Trip_Type.pk }}"  data-rate="{{ Trip_Type.Rate }}" required > {{ Trip_Type.Package }}</option>
                                {% endfor %}
                            </select>
                            <label>Trip Type</label>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <input class="Total_Amount " id="rate" name="Rate" readonly>
{#                    <div class="Total_Amount" id="rate" style="display:none;">#}
{#                        <input class="Total_Amount " id="rate" name="Rate" readonly>#}
{#                    </div>#}
                    <br>
                    <p class="info-text ">Please enter the name of the persons who are involve in your package.</p>
                    <div class="controls ">
                        <textarea name="Description " class="floatLabel " id="comments "></textarea>
                        <label> Remaining Data </label>
                    </div>
                    <button type="submit " value="Submit" class="col-1-4" id="payment-button">Proceed</button>
                </div>
            </div>
            <!-- /.form-group -->
        </form>
    </section>

     <script>
        function newFunction(value) {
            console.log(value);
            const select = document.getElementById('dropdown');
            {#console.log(select.value);#}
            console.log(select[value-1].getAttribute(value) );
            value = select.options[select.selectedIndex].dataset.rate;
            document.getElementById('rate').value = value;
        }
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js " integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN " crossorigin="anonymous "></script>
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js "></script>
    <script src='//raw.githubusercontent.com/andiio/selectToAutocomplete/master/jquery-ui-autocomplete.js'></script>
    <script src='//raw.githubusercontent.com/andiio/selectToAutocomplete/master/jquery.select-to-autocomplete.js'></script>
    <script src='//raw.githubusercontent.com/andiio/selectToAutocomplete/master/jquery.select-to-autocomplete.min.js'></script>


    <script src="{%static '/js/packagebooking.js'%}"></script>
    <script src="{%static '/js/booking.js'%}"></script>
</body>

{% endblock content %}